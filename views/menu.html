<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--  <meta charset="UTF-8">-->
<!--  <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--  <title>Menu - Lemongrass Thai Cuisine</title>-->
<!--  <link rel="stylesheet" href="/css/style.css">-->
<!--</head>-->
<!--<body>-->
<!--&lt;!&ndash; 顶部信息条 &ndash;&gt;-->
<!--<div class="top-bar">-->
<!--  <div class="contact-info">-->
<!--    <span>📞 613-233-5000</span>-->
<!--    <span>📧 lemongrasselgin@gmail.com</span>-->
<!--  </div>-->
<!--</div>-->

<!--&lt;!&ndash; 表头 &ndash;&gt;-->
<!--<header>-->
<!--  <div class="navbar">-->
<!--    <a href="/" class="logo">-->
<!--      <img src="/image/logo.jpg" alt="Lemongrass Thai Cuisine">-->
<!--    </a>-->
<!--    <nav>-->
<!--      <ul class="nav-links">-->
<!--        <li><a href="/">HOME</a></li>-->
<!--        <li><a href="/business-hours">BUSINESS HOURS</a></li>-->
<!--        <li><a href="/menu" class="active">MENU</a></li>-->
<!--        <li><a href="/food-pictures">FOOD AND PICTURES</a></li>-->
<!--        <li><a href="/contact">CONTACT US</a></li>-->
<!--        <li><a href="/order-online">ORDER ONLINE</a></li>-->
<!--      </ul>-->
<!--    </nav>-->
<!--  </div>-->
<!--</header>-->

<!--&lt;!&ndash; 主内容 &ndash;&gt;-->
<!--<main>-->
<!--  <section class="menu">-->
<!--    <div class="menu-header">-->
<!--      <img src="/image/menu_header.jpg" alt="Menu">-->
<!--      <h1>Menu</h1>-->
<!--    </div>-->
<!--    <div id="menu-container"></div>-->
<!--  </section>-->
<!--</main>-->

<!--<script>-->
<!--  // 动态加载菜单数据-->
<!--  fetch('/api/menu')-->
<!--          .then(response => response.json())-->
<!--          .then(data => {-->
<!--            const menuContainer = document.getElementById('menu-container');-->
<!--            let currentCategory = '';-->
<!--            data.forEach(item => {-->
<!--              // 如果是新分类，创建分类标题-->
<!--              if (item.category !== currentCategory) {-->
<!--                currentCategory = item.category;-->
<!--                const categoryHeader = document.createElement('div');-->
<!--                categoryHeader.className = 'menu-category';-->
<!--                categoryHeader.innerHTML = `<h2>${capitalize(currentCategory)}</h2>`;-->
<!--                menuContainer.appendChild(categoryHeader);-->
<!--              }-->
<!--              // 添加菜单项-->
<!--              const menuItem = document.createElement('div');-->
<!--              menuItem.className = 'menu-item';-->
<!--              menuItem.innerHTML = `-->
<!--                        <div class="menu-details">-->
<!--                            <h3>${item.name}</h3>-->
<!--                            <p>${item.description || ''}</p>-->
<!--                            <p class="price">${formatPriceOptions(item.price_options)}</p>-->
<!--                        </div>-->
<!--                    `;-->
<!--              menuContainer.appendChild(menuItem);-->
<!--            });-->
<!--          })-->
<!--          .catch(err => console.error(err));-->

<!--  // 格式化价格选项-->
<!--  function formatPriceOptions(priceOptions) {-->
<!--    if (!priceOptions) return '';-->
<!--    try {-->
<!--      const prices = JSON.parse(priceOptions);-->
<!--      return Object.entries(prices)-->
<!--              .map(([option, price]) => `<span>${option}: ${price}</span>`)-->
<!--              .join('<br>');-->
<!--    } catch {-->
<!--      return priceOptions; // 如果不是 JSON，直接返回-->
<!--    }-->
<!--  }-->

<!--  // 将分类名大写-->
<!--  function capitalize(str) {-->
<!--    return str-->
<!--            .split('_')-->
<!--            .map(word => word.charAt(0).toUpperCase() + word.slice(1))-->
<!--            .join(' ');-->
<!--  }-->
<!--</script>-->
<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Menu - Lemongrass Thai Cuisine</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<!-- 顶部信息条 -->
<div class="top-bar">
  <div class="contact-info">
    <span>📞 613-233-5000</span>
<!--    <span>📧 lemongrasselgin@gmail.com</span>-->
    <span>
  📧 <a href="mailto:lemongrasselgin@gmail.com" style="color: inherit; text-decoration: none;">lemongrasselgin@gmail.com</a>
</span>
  </div>
</div>

<!-- 表头 -->
<header>
  <div class="navbar">
    <a href="/" class="logo">
      <img src="/image/logo.jpg" alt="Lemongrass Thai Cuisine">
    </a>
    <nav>
      <ul class="nav-links">
        <li><a href="/">HOME</a></li>
        <li><a href="/business-hours">BUSINESS HOURS</a></li>
        <li><a href="/menu" class="active">MENU</a></li>
        <li><a href="/food-pictures">FOOD AND PICTURES</a></li>
        <li><a href="/contact">CONTACT US</a></li>
<!--        <li><a href="/order-online">ORDER ONLINE</a></li>-->
        <li><a href="https://ottawalemongrass.menu.ca/?p=menu" target="_blank">ORDER ONLINE</a></li>
      </ul>
    </nav>
  </div>
</header>

<!-- 主内容 -->
<main>
  <section class="menu">
    <div class="menu-header">
      <img src="/image/menu_header.jpg" alt="Menu">
      <h1></h1>
    </div>
    <div class="menu-header">
      <h2>Curries, seafood, vegetables dishes, chicken, pork and beef dishes do not include rice, you may order separately</h2>
    </div>
    <div id="menu-container"></div>
  </section>
  <!--添加一行小标语在图片下方但是在菜单上方，‘curries,seafood, vegetables dishes, chicken prok and beef dishes does not iinclude rice, you may order separately’-->

</main>


<script>
  // 动态加载菜单数据
  fetch('/api/menu')
          .then(response => response.json())
          .then(data => {
            const menuContainer = document.getElementById('menu-container');
            let currentCategory = '';
            data.forEach(item => {
              // 如果是新分类，创建分类标题和图片
              if (item.category !== currentCategory) {
                currentCategory = item.category;

                // 创建分类容器
                const categoryContainer = document.createElement('div');
                categoryContainer.className = 'menu-category';

                // 分类标题
                const categoryHeader = document.createElement('h2');
                categoryHeader.textContent = capitalize(currentCategory);
                categoryContainer.appendChild(categoryHeader);

                // 分类图片
                const categoryImage = document.createElement('img');
                categoryImage.src = `/image/${currentCategory}.jpg`;
                categoryImage.alt = `${capitalize(currentCategory)} Image`;
                categoryImage.className = 'category-image';
                categoryContainer.appendChild(categoryImage);

                menuContainer.appendChild(categoryContainer);
              }

              // 添加菜单项
              const menuItem = document.createElement('div');
              menuItem.className = 'menu-item';
              menuItem.innerHTML = `
          <div class="menu-details">
              <h3>${item.name}</h3>
              <p>${item.description || ''}</p>
              <p class="price">${formatPriceOptions(item.price_options)}</p>
          </div>
        `;
              menuContainer.appendChild(menuItem);
            });
          })
          .catch(err => console.error(err));

  // 格式化价格选项
  function formatPriceOptions(priceOptions) {
    if (!priceOptions) return '';
    try {
      const prices = JSON.parse(priceOptions);
      return Object.entries(prices)
              .map(([option, price]) => `<span>${option}: ${price}</span>`)
              .join('<br>');
    } catch {
      return priceOptions.split(',').map(option => option.trim()).join('<br>'); // 如果不是 JSON，直接返回
    }
  }

  // 将分类名大写
  function capitalize(str) {
    return str
            .split('_')
            .map(word => word.charAt(0).toUpperCase() + word.slice(1))
            .join(' ');
  }
</script>
</body>
</html>
